<HTML>
<!-- THIS PAGE IS AUTOMATICALLY GENERATED.  DO NOT EDIT. -->
<!-- Thu Nov 18 16:48:43 1999 -->
<!-- USING HT2HTML 1.0 -->
<!-- SEE http://www.python.org/~bwarsaw/software/pyware.html -->
<!-- User-specified headers:
Title: JPython FAQ

-->

<HEAD>
<TITLE>JPython FAQ</TITLE>

</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000"
      TOPMARGIN="0" LEFTMARGIN="0" MARGINWIDTH="0" MARGINHEIGHT="0"
      LINK="#0000bb"  VLINK="#551a8b"
      ALINK="#ff0000">
<!-- start of page table -->
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<!-- start of banner row -->
<TR>
<!-- start of corner cells -->
<TD WIDTH=150 VALIGN=CENTER BGCOLOR="#cdb7b5">

<center>
    <a href="http://www.jpython.org/">
    <img border=0 src="./images/jpython-new-small.gif"></a></center> </TD>
<TD WIDTH=15 BGCOLOR="#cdb7b5">&nbsp;&nbsp;</TD><!--spacer-->
<!-- end of corner cells -->
<!-- start of banner -->
<TD WIDTH="90%" BGCOLOR="#cdb7b5">
<!-- start of site links table -->
<TABLE WIDTH="100%" BORDER=0
CELLSPACING=0 CELLPADDING=2
       COLS=2 ROWS=2 BGCOLOR="#ffffff">
<TR>
    <TD BGCOLOR="#cdb7b5">
<a href="http://www.jpython.org/">Home</a>
    </TD>
    <TD BGCOLOR="#cdb7b5">
<a href="http://www.python.org/">www.python.org</a>
    </TD>
</TR><TR>
    <TD BGCOLOR="#cdb7b5">
<a href="http://www.jpython.org/download.html">Download</a>
    </TD>
    <TD BGCOLOR="#cdb7b5">
<a href="./index.html">Documentation</a>
    </TD>
</TR>
</TABLE><!-- end of site links table -->

</TD><!-- end of banner -->
</TR><!-- end of banner row -->
<TR><!-- start of sidebar/body row -->
<!-- start of sidebar cells -->
<TD WIDTH=150 VALIGN=TOP BGCOLOR="#cdb7b5">
<!-- start of sidebar table -->
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=3
       BGCOLOR="#ffffff">
<TR><TD BGCOLOR="#660099"><B><FONT COLOR="#ffffff">
Documentation
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="./index.html">Overview</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="whatis.html">Executive Summary</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="interpreter.html">Invoking JPython</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="registry.html">JPython Registry</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="embedding.html">Embedding</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="compile.html">Compiling JPython from source</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">&nbsp;
<TR><TD BGCOLOR="#660099"><B><FONT COLOR="#ffffff">
Working with Java
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="usejava.html">The Basics</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="properties.html">JavaBean Properties</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="jarray.html">Java arrays</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="subclassing.html">Subclassing</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="jpythonc.html">Building applets, servlets, beans...</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">&nbsp;
<TR><TD BGCOLOR="#660099"><B><FONT COLOR="#ffffff">
Python Docs (exits)
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="http://www.python.org/doc/tut/tut.html">Python Tutorial</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="http://www.python.org/doc/lib/lib.html">Library Reference</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">&nbsp;
<TR><TD BGCOLOR="#660099"><B><FONT COLOR="#ffffff">
Other
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="differences.html">JPython vs. CPython</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<b>JPython FAQ</b>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="http://www.python.org/pipermail/jpython-interest/">List Archives</A> (exit)
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="http://www.python.org/workshops/1997-10/proceedings/hugunin.html">JPython paper</A> (exit)
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">&nbsp;
<TR><TD BGCOLOR="#660099"><B><FONT COLOR="#ffffff">
Email Us
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="mailto:jpython@python.org">jpython@python.org</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
&nbsp;
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="http://www.python.org/">
<center>
    <img border=0 src="./images/PythonPoweredSmall.gif"></center>
</A>
</TD></TR>
</TABLE><!-- end of sidebar table -->

</TD>
<TD WIDTH=15>&nbsp;&nbsp;</TD><!--spacer-->
<!-- end of sidebar cell -->
<!-- start of body cell -->
<TD VALIGN=TOP WIDTH="90%"><BR>
<h3>The JPython FAQ</h3>

<ol>
<li><b>What is JPython?</b>

    <p>JPython is a new implementation of the Python programming
    language which is designed to run on the Java(tm) Platform.  It
    consists of a compiler to compile Python source code down to Java
    bytecodes which can run directly on a JVM, a set of support
    libraries which are used by the compiled Java bytecodes, and extra
    support to make it trivial to use Java packages from within
    JPython.

<p><li><b>Is JPython the same language as Python?</b>
    <P>We will always strive to ensure that JPython remains as
    compatible with CPython as possible.  Nevertheless, there are a
    number of
    <a href="differences.html">differences</a>
    between the two implementations that are
    unlikely to go away.  These range from the trivial - JPython's
    code objects don't have a co_code attribute because they don't
    have any Python bytecodes; to the significant - JPython uses
    Java's true garbage collection rather than Python's reference
    counting scheme.

    <P>Python has never really had much of a language definition
    beyond it's C-based implementation.  The existence of JPython
    changed that for the first time and will hopefully lead to a much
    clearer sense of what Python the language is; independent of any
    specific implementation.

    <P>We will be preparing a version of Python's regression test that
    would be appropriate for new implementations of the language.
    This is a good first step towards defining what parts of Python
    are essential and which are incidental.

<p><li><b>What is the current status of JPython?</b>
    <p>As of this writing (28-Oct-1999) JPython 1.1 is currently in
    beta status.  Check the
    <a href="http://www.jpython.org">www.jpython.org</a> site for the
    most current release.
    Jim Hugunin, JPython's author, has moved out to sunny
    California to work on Xerox PARC's
    <a href="http://www.parc.xerox.com/spl/projects/aop/">AspectJ</a>
    language.  JPython continues to be maintained by Barry Warsaw at
    CNRI, with help and input from Python's author Guido van Rossum,
    other CNRI folks, and the many contributors on the
    <a href="http://www.python.org/mailman/listinfo/jpython-interest">
    JPython-Interest</a> mailing list.

<p><li><b>JPython and Y2K</b>

    <p>The standard response to queries about JPython's Y2K compliance 
    points you to the
    <a href="http://www.python.org/cgi-bin/faqw.py?querytype=anykeywords&casefold=yes&req=search&query=y2k">
    Python FAQ entry on the subject</a>, with the additional caveat
    that JPython is of course dependent on any Y2K issues associated
    with the underlying JVM and Java class libraries you're using.
    However, you can essentially apply the Python Y2K stance to
    JPython by, e.g. substituting the word "Java" for "C" in FAQ
    question 4.65 (<em>ignore the clip from the Python copyright
    notice</em>).

<p><li><b><A NAME="Supported Modules"></A>What parts of the Python
    library are supported?</b>

    <P>The good news is that JPython now supports the large majority
    of the standard Python library.  The bad news is that this has
    moved so rapidly, it's hard to keep the documentation up to
    date.

    <p>Built-in modules (e.g. those that are written in C for CPython) 
    are a differnet story.  These would have to be ported to Java, or
    implemented with a JNI bridge in order to be used by JPython.
    Some built-in modules have been ported to JPython, most notably
    cStringIO, cPickle, struct, and binascii (donated by Finn Bock).
    It is unlikely that JNI modules will be included in JPython proper 
    though.</P>

    <P>If you want to use a standard Python module, just try importing
    it.  If it that works you're probably all set.  You can also do a
    dir() on the modules to check the list of functions it
    implements.</P>

    <P>If there is some standard Python module that you have a real
    need for that doesn't work with JPython yet, please
    <a href="mailto:jpython@python.org">send us mail</a>.

<p><li><b>How fast is JPython?</b>

    <p>At <a href="http://www.python.org/workshops/1997-10/">IPC-6</a>
    JimH reported speeds equal to CPython 1.4 on the pystone
    benchmark.  When Guido released CPython 1.5 he succeeded in making
    it about 2x faster than the 1.4 release.  The current release of
    CPython is 1.5.2 which might be only slightly faster than 1.5.
    JimH re-ran his benchmark tests against CPython 1.5 and his then
    current release of JPython, finding that JPython was about 2.5x
    slower than CPython 1.5.  I have recently run a few informal
    benchmarks and found some interesting numbers: using Sun's JDK
    1.2.1 with JIT on a Solaris 2.6 Sparc Ultra 2, I found JPython
    1.1beta3 to produce pystone numbers equal to (or very slightly
    better than) CPython 1.5.2+.

    <p>The problem, of course, is that JITs are still not reliable
    enough for JPython.  Turning off the JIT on the above platform,
    can slow JPython down by a factor of 10.

    <P>The speed of JPython is tied very tightly to the speed of the
    underlying JVM.  The benchmark results that JimH reported were all
    using Microsoft's JVM from Internet Explorer 4.0.  The next
    fastest JVM that he used was almost a factor of 2 slower than
    this.  Since the performance of JVMs changes nearly every day, at
    some point I'll need to collect a set of scores comparing pystone
    performance on a wider variety of JVM's.</P>

    <P>Finally, pystone is not the last word in benchmarking.  At the
    moment I'm more concerned with making JPython complete and correct
    than with performance.  We will continually be revisiting
    performance issues both to examine better benchmark's for
    comparing JPython and CPython (as well as other scripting
    languages for the JVM) and work at optimizing JPython's
    performance.

<p><li><b>Why do weird things sometimes happen in JPython?</b>

    <p>More likely than not, the problem is with the JIT
    (Just-in-time) compiler your JVM is using.  JPython acts
    like a bizarre Java compiler, taking Python source code and
    emitting Java bytecode.  It's bizarre because the emitted bytecode
    doesn't look quite like the way bytecode would come out of a Java
    compiler.  JITs can sometimes get confused by this and will often
    do incorrect and inexplicable things.  If you're seeing strange
    stuff happen, or weird bugs, the first thing to do is to turn off
    your JIT and try again.  If the bug still exists with the JIT
    turned off then consider <a href="http://www.python.org/jpython-bugs">
    submitting a bug report</a>.

<p><li><b>Why did I get an OutOfMemoryError?</b>

    <P>If you are using SUN's Java VM (or a derived VM) the virtual
    machine sets a default memory limit of 16 MB.  This can be very
    confusing when you are running on a machine with 128 MB of RAM and
    you see an OutOfMemoryError after having used only 17 MB.</P>

    <P>You can increase this memory limit by adding the following
    switch to the call that invokes the Java VM (you need to modify
    the jpython launch script):</P>

<pre>
    jre -mx32m &lt;...&gt;
</pre>

    <P>This will set your upper memory limit to 32 MB.  Obviously,
    higher limits should be used if required by your program - and
    supported by your computer..

<p><li><b>Why can't I use "from java import ..." on Windows?"</b>

    <p>This problem can occur if you are using Microsoft's VM
    (i.e. <tt>jview.exe</tt>) which provides the standard classes in a 
    different format.  You need to run the following command in a
    console window before using JPython:

<pre>
    clspack -auto
</pre>

<p><li><b>Semantic Differences between JPython and CPython</b>

    <P>There are several several differences between JPython and
    CPython that wil probably never go away.  These differences are
    primarily related to underlying differences between the C and Java
    programming languages/environments.  See <a
    href="differences.html">a more detailed list</a> of these
    differences.  In brief though, here are two of the more obvious
    differences you'll notice:

    <p><UL>
	<LI><em>JPython has true garbage collection - CPython uses
	reference counting.</em>

	<br>This means that in JPython users don't need to worry about
	    creating circular references as these are guarnteed to be
	    collected properly.  On the other hand, users of JPython have
	    no guarantees of when an object will be finalized (short of
	    calling System.gc() to force garbage collection).
	    Theoretically, this might cause problems for users who were
	    depending on CPython's finalization timing to free limited
	    system resources.  Also, because of the severe performance 
	    hit when providing non-trivial Java <tt>finalize()</tt>
	    methods, no Python object's <tt>__del__()</tt> method is
	    ever called.

	<p><LI><em>Control-C can not be caught by JPython, but will exit the
	    shell completely</em>
    </UL>

<p><li><b>Why can't I multiply inherit from two Java classes?</b>

    <P>In an earlier version of JPython, you actually could.  This was
    deliberately disabled in 1.1 for a variety of good reasons. For a
    detailed discussion on this issue see the following archive
    messages:

    <p><a
    href="http://www.python.org/pipermail/jpython-interest/1998-April/000213.html">http://www.python.org/pipermail/jpython-interest/1998-April/000213.html</a><br>
    <a href="http://www.python.org/pipermail/jpython-interest/1999-January/001162.html">http://www.python.org/pipermail/jpython-interest/1999-January/001162.html</a>

    <p>Note that you can still multiply inherit from any number of
    Python classes.

<p><li><b>Why does dir(someJavaObject) return the empty list?</b>

    <p>Because the built-in <tt>dir()</tt> function returns
    a list of names culled from the object's <tt>__dict__</tt>,
    <tt>__methods__</tt>, and <tt>__members__</tt> attributes.  In
    Python, an instance's methods live in the instance's class's
    dictionary, so dir(someJavaObject.__class__) would return a list
    of the method names (although only for the direct class, not for
    any base classes).

</ol>

</TD><!-- end of body cell -->
</TR><!-- end of sidebar/body row -->
</TABLE><!-- end of page table -->
</BODY></HTML>
